import{a as m,u as f,T as k}from"./Table-DBO0-8eb.js";import{w as y,a as u,b as _,u as e,o as h}from"./index-CbFqPB3z.js";const b=async r=>await m.get("/orders",{params:r}),P={__name:"Orders",props:{startDate:String,endDate:String},setup(r){const a=r,n=[{key:"g_number",title:"Номер заказа",formatter:t=>t},{key:"date",title:"Дата заказа",formatter:t=>t?new Date(t).toLocaleString("ru-RU"):""},{key:"supplier_article",title:"Артикул поставщика"},{key:"nm_id",title:"Артикул WB",formatter:t=>t?.toString()},{key:"tech_size",title:"Размер"},{key:"barcode",title:"Штрихкод",formatter:t=>t?String(t).replace(/(\d{4})(\d{4})/,"$1 $2"):""},{key:"total_price",title:"Сумма",formatter:t=>t?`${parseFloat(t).toLocaleString("ru-RU")}`:""},{key:"discount_percent",title:"Скидка",formatter:t=>t?`${t}`:""},{key:"warehouse_name",title:"Склад"},{key:"oblast",title:"Регион"},{key:"subject",title:"Предмет"},{key:"category",title:"Категория"},{key:"brand",title:"Бренд"},{key:"is_cancel",title:"Отменён",formatter:t=>t?"Да":"Нет"},{key:"income_id",title:"ID поставки",formatter:t=>t?.toString()||""}],{data:i,loading:s,error:l,pagination:c,sortField:d,sortDirection:g,fetchData:o,sort:p}=f(b);return y([()=>a.startDate,()=>a.endDate],()=>{console.log("Отслеживание изменения дат"),o(1)}),u(()=>{o()}),(t,D)=>(h(),_(k,{data:e(i),loading:e(s),error:e(l),pagination:e(c),"sort-field":e(d),"sort-direction":e(g),columns:n,onPageChange:e(o),onSort:e(p)},null,8,["data","loading","error","pagination","sort-field","sort-direction","onPageChange","onSort"]))}};export{P as default};
