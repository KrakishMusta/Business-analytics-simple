import{a as p,u as f,T as u}from"./Table-BbFPPPbw.js";import{w as _,a as D,b as k,u as e,o as y}from"./main-C7py3a-u.js";const h=async a=>await p.get("/incomes",{params:a}),L={__name:"Incomes",props:{startDate:String,endDate:String},setup(a){const o=a,n=[{key:"income_id",title:"ID поставки",formatter:t=>t||""},{key:"date",title:"Дата",formatter:t=>t?new Date(t).toLocaleDateString("ru-RU"):""},{key:"last_change_date",title:"Дата изменения",formatter:t=>t?new Date(t).toLocaleDateString("ru-RU"):""},{key:"supplier_article",title:"Артикул поставщика"},{key:"tech_size",title:"Размер"},{key:"barcode",title:"Штрихкод",formatter:t=>t?String(t):""},{key:"quantity",title:"Количество",formatter:t=>t?.toString()||"0"},{key:"total_price",title:"Сумма",formatter:t=>t?`${parseFloat(t).toLocaleString("ru-RU")}`:""},{key:"date_close",title:"Дата закрытия",formatter:t=>t?new Date(t).toLocaleDateString("ru-RU"):""},{key:"warehouse_name",title:"Склад"},{key:"nm_id",title:"Артикул WB",formatter:t=>t?.toString()||""}],{data:i,loading:s,error:c,pagination:l,sortField:g,sortDirection:d,fetchData:r,sort:m}=f(h);return _([()=>o.startDate,()=>o.endDate],()=>{console.log("Отслеживание изменения дат"),r(1)}),D(()=>{r()}),(t,S)=>(y(),k(u,{data:e(i),loading:e(s),error:e(c),pagination:e(l),"sort-field":e(g),"sort-direction":e(d),columns:n,onPageChange:e(r),onSort:e(m)},null,8,["data","loading","error","pagination","sort-field","sort-direction","onPageChange","onSort"]))}};export{L as default};
