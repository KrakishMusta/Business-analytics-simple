import{a as f,u as m,T as k}from"./Table-BXRFpQ5c.js";import{w as p,a as _,b as u,u as e,o as h}from"./index-1wZn2Cg2.js";const S=async a=>await f.get("/stocks",{params:a}),b={__name:"Stocks",props:{startDate:String,endDate:String},setup(a){const r=a,i=[{key:"date",title:"Дата",formatter:t=>t?new Date(t).toLocaleDateString():""},{key:"last_change_date",title:"Дата изменения",formatter:t=>t?new Date(t).toLocaleString():""},{key:"supplier_article",title:"Артикул поставщика"},{key:"tech_size",title:"Технический размер"},{key:"barcode",title:"Штрихкод",formatter:t=>t?String(t).replace(/(\d{4})(\d{4})(\d{4})/,"$1 $2 $3"):""},{key:"quantity",title:"Количество",align:"right",formatter:t=>t?.toLocaleString()??""},{key:"is_supply",title:"В поставке",formatter:t=>t?"Да":"Нет"},{key:"is_realization",title:"В реализации",formatter:t=>t?"Да":"Нет"},{key:"quantity_full",title:"Полное кол-во",align:"right",formatter:t=>t?.toLocaleString()??""},{key:"warehouse_name",title:"Склад"},{key:"in_way_to_client",title:"В пути к клиенту",align:"right",formatter:t=>t?.toLocaleString()??""},{key:"in_way_from_client",title:"В пути от клиента",align:"right",formatter:t=>t?.toLocaleString()??""},{key:"nm_id",title:"ID WB",formatter:t=>t?.toLocaleString()??""},{key:"subject",title:"Предмет"},{key:"category",title:"Категория"},{key:"brand",title:"Бренд"},{key:"sc_code",title:"Код поставщика",formatter:t=>t?.toLocaleString()??""},{key:"price",title:"Цена",align:"right",formatter:t=>t?`${parseFloat(t).toLocaleString("ru-RU")}`:""},{key:"discount",title:"Скидка",align:"right",formatter:t=>t?`${parseFloat(t).toLocaleString("ru-RU")}`:""}],{data:n,loading:l,error:s,pagination:c,sortField:g,sortDirection:d,fetchData:o,sort:y}=m(S);return p([()=>r.startDate,()=>r.endDate],()=>{console.log("Отслеживание изменения дат"),o(1)}),_(()=>{o()}),(t,D)=>(h(),u(k,{data:e(n),loading:e(l),error:e(s),pagination:e(c),"sort-field":e(g),"sort-direction":e(d),columns:i,onPageChange:e(o),onSort:e(y)},null,8,["data","loading","error","pagination","sort-field","sort-direction","onPageChange","onSort"]))}};export{b as default};
