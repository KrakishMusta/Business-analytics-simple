import{a as y,u as g,T as k}from"./Table-BdBXnROS.js";import{w as f,a as _,b as u,u as e,o as h}from"./index-BT3e0F_F.js";const D=async a=>await y.get("/sales",{params:a}),F={__name:"Sales",props:{startDate:String,endDate:String},setup(a){const r=a,i=[{key:"g_number",title:"Номер заказа",formatter:t=>t||""},{key:"date",title:"Дата заказа",formatter:t=>t?new Date(t).toLocaleDateString("ru-RU"):""},{key:"supplier_article",title:"Артикул поставщика"},{key:"tech_size",title:"Размер"},{key:"barcode",title:"Штрихкод",formatter:t=>t?String(t).replace(/(\d{4})(\d{4})(\d{4})/,"$1 $2 $3"):""},{key:"total_price",title:"Общая цена",formatter:t=>t?`${parseFloat(t).toFixed(2)}`:""},{key:"discount_percent",title:"Скидка",formatter:t=>t?`${t}`:""},{key:"warehouse_name",title:"Склад"},{key:"region_name",title:"Регион"},{key:"nm_id",title:"Артикул WB",formatter:t=>t?.toString()||""},{key:"subject",title:"Предмет"},{key:"category",title:"Категория"},{key:"brand",title:"Бренд"},{key:"finished_price",title:"Финальная цена",formatter:t=>t?`${parseFloat(t).toFixed(2)}`:""},{key:"for_pay",title:"К оплате",formatter:t=>t?`${parseFloat(t).toFixed(2)}`:""},{key:"is_realization",title:"Реализация",formatter:t=>t?"Да":"Нет"},{key:"spp",title:"СПП",formatter:t=>t?`${t}`:""},{key:"country_name",title:"Страна"},{key:"oblast_okrug_name",title:"Округ"},{key:"sale_id",title:"ID продажи"}],{data:n,loading:s,error:l,pagination:c,sortField:d,sortDirection:p,fetchData:o,sort:m}=g(D);return f([()=>r.startDate,()=>r.endDate],()=>{console.log("Отслеживание изменения дат"),o(1)}),_(()=>{o()}),(t,b)=>(h(),u(k,{data:e(n),loading:e(s),error:e(l),pagination:e(c),"sort-field":e(d),"sort-direction":e(p),columns:i,onPageChange:e(o),onSort:e(m)},null,8,["data","loading","error","pagination","sort-field","sort-direction","onPageChange","onSort"]))}};export{F as default};
